# {{.ProjectName}}

{{.ProjectName}} is a Go microservice generated with create-go-service.

## Features

{{- if .HasMetrics}}
- Prometheus metrics instrumentation
{{- end}}
{{- if .HasAuth}}
- JWT authentication
{{- end}}
{{- range .APITypes}}
{{- if eq . "chi"}}
- REST API with Chi router
{{- end}}
{{- if eq . "huma"}}
- REST API with Huma (OpenAPI/Swagger)
{{- end}}
{{- if eq . "grpc"}}
- gRPC with ConnectRPC
{{- end}}
{{- end}}
{{- if eq .Database "dynamodb"}}
- DynamoDB database integration
{{- end}}
{{- if eq .Database "postgres"}}
- PostgreSQL/Supabase database integration
{{- end}}

## Quick Start

### Local Development

1. **Set up configuration:**
   ```bash
   # Copy example environment file
   cp .env.example .env
   
   # Edit .env and add your secrets
   # (JWT_SECRET, DATABASE_URL, etc.)
   ```

2. **Start dependencies:**
   ```bash
   docker compose up -d
   ```

3. **Run the service:**
   ```bash
   make run
   ```

   Or with hot reload:
   ```bash
   wgo run cmd/api/main.go
   ```

### Configuration

The service uses a hybrid configuration approach:

- **config.yaml**: Non-sensitive configuration (server settings, feature flags, etc.)
- **.env**: Sensitive secrets (JWT secrets, database credentials, API keys)
- **Environment variables**: Can override any config.yaml setting

Configuration is loaded in this order:
1. Default values from config.yaml
2. Environment variables override YAML settings
3. Secrets are loaded only from environment variables

See `.env.example` for available options.

## Development

- `make run` - Run the service
- `make test` - Run tests
- `make build` - Build the binary
- `make deploy` - Deploy to Fly.io

## Deployment

This service is configured for deployment on Fly.io. Deploy with:

```bash
make deploy
```

Or manually:

```bash
flyctl deploy
```

